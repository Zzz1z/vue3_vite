import{d as B,L as v,M as i,n as w,O as C,P as h,Q as S,R as V,o as y,c as E,a as o,w as r,l as s,S as b,g as k,k as x,T as I}from"./vendor.f3c832c0.js";import{u as T,l as D,s as N}from"./index.9cd5ca93.js";const R={class:"login-wrap"},L=k("h3",{class:"title"},"\u7528\u6237\u767B\u5F55",-1),M=x(" \u767B\u5F55 "),q=B({setup(O){const d=T(),{proxy:p}=I(),_=v(),t=i({account:"",password:""}),m=w(),f=i({account:[{required:!0,message:"\u8BF7\u8F93\u5165\u8D26\u53F7...",trigger:["blur","change"]}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801...",trigger:["blur","change"]}]}),F=c=>{!c||c.validate(async e=>{var a;if(e){const u=await D(t);if(u.code===p.$SUCCESS_CODE){const{token:n}=(a=u.data)!=null?a:"";d.updateToken(n),d.getAuthInfo(),N("ACCESS_TOKEN",n),p.$message.success("\u767B\u5F55\u6210\u529F"),_.push({path:"/"})}}})};return(c,e)=>{const a=C,u=h,n=S,g=V;return y(),E("div",R,[o(g,{class:"form",ref_key:"ruleFormRef",ref:m,rules:s(f),model:s(t)},{default:r(()=>[L,o(u,{label:"\u8D26\u53F7",prop:"account"},{default:r(()=>[o(a,{placeholder:"\u8BF7\u8F93\u5165\u8D26\u53F7...",modelValue:s(t).account,"onUpdate:modelValue":e[0]||(e[0]=l=>s(t).account=l)},null,8,["modelValue"])]),_:1}),o(u,{label:"\u5BC6\u7801",prop:"password"},{default:r(()=>[o(a,{modelValue:s(t).password,"onUpdate:modelValue":e[1]||(e[1]=l=>s(t).password=l),type:"password",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801...","show-password":""},null,8,["modelValue"])]),_:1}),o(u,null,{default:r(()=>[o(n,{class:"login-btn",type:"primary",onClick:e[2]||(e[2]=b(l=>F(m.value),["prevent"]))},{default:r(()=>[M]),_:1})]),_:1})]),_:1},8,["rules","model"])])}}});export{q as default};
